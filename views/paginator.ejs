<div style="text-align: center;">
    <div class="ui pagination menu">
        <a class="<% if(pagination.current === 1) { %> disabled <% } %> icon item" <% if(pagination.current !== 1) { %> href="<%= pagination.href %>?page=1<% if(pagination.param.length !== 0) { %>&<%= pagination.param.join('&')%> <% } %>" <% } %> >
        <i class="angle double left icon"></i></a>

        <a class="<% if(pagination.current === 1) { %> disabled <% } %> icon item" <% if(pagination.current !== 1) { %> href="<%= pagination.href %>?page=<%= pagination.current - 1%><% if(pagination.param.length !== 0) { %>&<%= pagination.param.join('&')%> <% } %>" <% } %> >
        <i class="angle left icon"></i></a>
        <%
            let left = pagination.current - 3;
            let right = pagination.last_page - pagination.current;
            let left_start = 1;
            let right_start = right;
            let rem_left = false;
            let rem_right = false;
            if(left + right > 6) {
                if(left <= 3){
                    right_start = pagination.current + (6 - left);
                    rem_right = true;
                }else if(right <= 3){
                    left_start = pagination.current - (6 - right);
                    rem_left = true;
                }else {
                    left_start = pagination.current - 3;
                    right_start = pagination.current + 3;
                    rem_left = rem_right = true;
                }
            }
            if(rem_left){ %>
                <a class="item" href="<%= pagination.href %>?page=1<% if(pagination.param.length !== 0) { %>&<%= pagination.param.join('&')%> <% } %>">1</a>
                <a class="disabled item">...</a>
                <% for(var i = left_start;i < pagination.current;++i) { %>
                    <a class="item" href="<%= pagination.href %>?page= <%= i %><% if(pagination.param.length !== 0) { %>&<%= pagination.param.join('&')%> <% } %>"><%= i %></a>
                <% } %>
            <% } else { %>
                <% for(var i = 1;i < pagination.current;++i) {%>
                    <a class="item" href="<%= pagination.href %>?page=<%= i %><% if(pagination.param.length !== 0) { %>&<%= pagination.param.join('&')%> <% } %>"><%= i%></a>
                <% } %>
                <a class="active item" href="<%= pagination.href %>?page=<%= pagination.current%><% if(pagination.param.length !== 0) { %>&<%= pagination.param.join('&')%> <% } %>"><%= pagination.current%></a>
            <% } %>
            <% if(pagination.current !== 1 && rem_left) {%>
                <a class="active item" href="<%= pagination.href %>?page=<%= pagination.current%><% if(pagination.param.length !== 0) { %>&<%= pagination.param.join('&')%> <% } %>"><%= pagination.current%></a>
            <% } %>
            <% if(rem_right) {%>
                <% for(var i = pagination.current + 1;i <= right_start;++i) {%>
                    <a class="item" href="<%= pagination.href %>?page=<%= i %><% if(pagination.param.length !== 0) { %>&<%= pagination.param.join('&')%> <% } %>"><%= i%></a>
                <% } %>
                <a class="disabled item">...</a>
                <a class="item" href="<%= pagination.href %>?page=<%= pagination.last_page %><% if(pagination.param.length !== 0) { %>&<%= pagination.param.join('&')%> <% } %>"><%= pagination.last_page%></a>
            <% } else{ %>
                <% for(var i = pagination.current + 1;i <= pagination.last_page;++i) {%>
                    <a class="item" href="<%= pagination.href %>?page=<%= i %><% if(pagination.param.length !== 0) { %>&<%= pagination.param.join('&')%> <% } %>"><%= i%></a>
                <% } %>
            <% } %>
        <a class="<% if(pagination.current === pagination.last_page) { %> disabled <% } %> icon item" <% if(pagination.current !== pagination.last_page) { %> href="<%= pagination.href %>?page=<%= pagination.current + 1%><% if(pagination.param.length !== 0) { %>&<%= pagination.param.join('&')%> <% } %>" <% } %> >
        <i class="angle right icon"></i></a>
        <a class="<% if(pagination.current === pagination.last_page) { %> disabled <% } %> icon item" <% if(pagination.current !== pagination.last_page) { %> href="<%= pagination.href %>?page=<%= pagination.last_page%><% if(pagination.param.length !== 0) { %>&<%= pagination.param.join('&')%> <% } %>" <% } %> >
        <i class="angle double right icon"></i></a>
    </div>
</div>
